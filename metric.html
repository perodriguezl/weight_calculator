<html>

<head>
    <script type="text/javascript" src="./Metric Conversion Calculator _ Service Steel_files/jquery.js"></script>
    <script type="text/javascript" src="./Metric Conversion Calculator _ Service Steel_files/jquery-migrate.min.js"></script>
    <link rel="stylesheet" id="theme-styles-css" href="./Metric Conversion Calculator _ Service Steel_files/style.css" type="text/css" media="all">
    <link rel="stylesheet" id="theme-styles-css" href="./Metric Conversion Calculator _ Service Steel_files/core-styles.css" type="text/css" media="all">
    <script src="js/atps.js"></script>
</head>

<body>
    <div style="" class="vc_col-sm-12 calc-content wpb_column column_container  _ height-full">
        <style>
        #fancy-title-7 {
            font-family: "Anton"
        }
        </style>
        <div id="text-block-8" class="mk-text-block">
            <div class="black-body">
                <div class="calcbody metric">
                    <select id="metric" class="metric-select">
                        <option value="rc-bhn">Rc to BHN</option>
                        <option value="rc-rb">Rc to Rb</option>
                        <option value="bhn-rc">BHN to Rc</option>
                        <option value="bhn-rb">BHN to Rb</option>
                        <option value="rb-bhn">Rb to BHN</option>
                        <option value="rb-rc">Rb to Rc</option>
                        <option value="13">F to C</option>
                        <option value="14">C to F</option>
                        <option value="1">Millimeters to Inches</option>
                        <option value="2">Inches to Millimeters</option>
                        <option value="3">Meters to Feet</option>
                        <option value="4">Feet to Meters</option>
                        <option value="41">FT/LB to JOULES</option>
                        <option value="42">JOULES to FT/LB</option>
                        <option value="43">MPa to PSI</option>
                        <option value="44">PSI to MPa</option>
                        <option value="45">N/MMsq to PSI</option>
                        <option value="46">PSI to N/MMsq</option>
                        <option value="5">LBS to KGS</option>
                        <option value="6">KGS to LBS</option>
                        <option value="61">LBS to NEWTON</option>
                        <option value="62">NEWTON to LBS</option>
                        <option value="7">LBS to TONS (SHORT)</option>
                        <option value="71">LBS to TONS (LONG)</option>
                        <option value="72">LBS to TONS (METRIC)</option>
                        <option value="73">TONS (SHORT) to LBS</option>
                        <option value="74">TONS (LONG) to LBS</option>
                        <option value="75">TONS (METRIC) to LBS</option>
                    </select>
                    <input type="text" id="cfrom" class="metric-input" value="3.3" size="8">
                    <span class="large metric-label"> = </span>
                    <input type="text" id="cto" class="metric-input" value="163" readonly="true">
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="clearboth"></div>
        </div>
        <div class="wpb_raw_code wpb_raw_js">
            <div class="wpb_wrapper">
                <script type="text/javascript">
                jQuery(document).ready(function() {

                    jQuery(function() {

                        var type = "rc-bhn";

                        jQuery('#metric').on('change', function() {
                            type = jQuery(this).attr('value');
                            jQuery('#cto').attr('value', '');
                            jQuery('#cfrom').attr('value', '');
                        });

                        jQuery('#cfrom').on('keyup', function() {
                            var val = jQuery(this).val();
                            val = val.replace(/[^0-9\.]+/g, '');
                            jQuery(this).attr('value', val);

                            val = getMulti(type, jQuery(this).attr('value'));
                            jQuery('#cto').attr('value', val);
                        });


                    });

                    function getMulti(t, val) {
                        var m;
                        switch (t) {
                            case '1':
                                m = val * 0.03937;
                                break;
                            case '2':
                                m = val * 25.4;
                                break;
                            case '3':
                                m = val * 3.281;
                                break;
                            case '4':
                                m = val * 0.3048;
                                break;
                            case '5':
                                m = (val * 0.453592).toFixed(3);
                                break;
                            case '6':
                                m = (val * 2.204623).toFixed(3);
                                break;
                            case '7':
                                m = val / 2000;
                                break;
                            case '8':
                                m = val * 1.1023;
                                break;
                            case '9':
                                m = val * 145.03773800721814;
                                break;
                            case '13':
                                m = ((val - 32) / 1.80).toFixed(3);
                                break;
                            case '14':
                                m = ((val * 1.8) + 32).toFixed(3);
                                break;
                            case '41':
                                m = ((val * 1.355818)).toFixed(3);
                                break;
                            case '42':
                                m = ((val * 0.737562)).toFixed(3);
                                break;
                            case '43':
                                m = ((val * 145)).toFixed(3);
                                break;
                            case '44':
                                m = ((val / 145)).toFixed(3);
                                break;
                            case '45':
                                m = ((val * 145)).toFixed(3);
                                break;
                            case '46':
                                m = ((val / 145)).toFixed(3);
                                break;
                            case '61':
                                m = ((val * 4.44822)).toFixed(3);
                                break;
                            case '62':
                                m = ((val * 0.224809)).toFixed(3);
                                break;
                            case '71':
                                m = ((val / 2240)).toFixed(3);
                                break;
                            case '72':
                                m = ((val / 2204.6)).toFixed(3);
                                break;
                            case '73':
                                m = ((val * 2000)).toFixed(3);
                                break;
                            case '74':
                                m = ((val * 2240)).toFixed(3);
                                break;
                            case '75':
                                m = ((val * 2204.6)).toFixed(3);
                                break;  
                            case "rc-bhn":
                            case "rc-rb":
                            case "bhn-rc":
                            case "bhn-rb":
                            case "rb-bhn":
                                m = findHardnessValue(val, t);
                                break;
                            default:
                                m = '0';
                        }
                        return m;
                    }
                });
                </script>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        function findHardnessValue (val, t) {
            var found = 0;
            var last;
            jQuery.each(hardness, function(key, value) {
                if (parseFloat(val) < parseFloat(value[t.split("-")[0]])) {
                    console.log (val, value[t.split("-")[0]]);
                    found = last;
                    return;
                }
                last = parseFloat(value[t.split("-")[1]]);
            });
            if (found != 0) {
                return found;
            }
            return "OUT OF RANGE";
        }
    </script>
</body>

</html>